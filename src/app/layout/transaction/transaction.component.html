<!-- Container: List Items -->
<div class="container">
  <div class="control-section" style="padding-bottom: 5px;">
    <table>
      <tr>
        <td><button disabled>&#x2714;</button></td>
        <td><button (click)="pageRefresh()" title="Обновить">&#x21bb;</button></td>
        <td><button ejs-button id='btnOpenFilterTransaction' #btnOpenFilterTransaction (click)="openFilterTransaction()" title="Фильтр">&fnof;</button></td>
      </tr>
    </table>
    <ejs-dialog #filterTransaction id="filterTransaction"
                style="display: none;"
                [isModal]='isModal'
                [animationSettings]='animationSettings'
                [showCloseIcon]='showCloseIcon'
                [target]='target'
                [width]='width'
                (open)="onFilterTransaction()"
                (close)="offFilterTransaction()">
      <form [formGroup]="filterForm">
        <ng-template #header>
          <div id="dlg-template" title="Отфильтровать" class="e-icon-settings"> Фильтр </div>
        </ng-template>
        <ng-template #content>
          <div class="dialogContent">
            <table width="300" cellpadding="4">
              <tr>
                <td align="right" width="150">
                  <label for="panMasked">Маска карты</label>
                </td>
                <td width="150">
                  <input type="text" formControlName="panMasked" name="panMasked" class="form-control" id="panMasked" aria-describedby="idHelp" placeholder="Не выбрано">
                </td>
              </tr>
              <tr>
                <td align="right">
                  <label for="approvalCode">Код авторизации</label>
                </td>
                <td>
                  <input type="text" formControlName="approvalCode" name="approvalCode" class="form-control" id="approvalCode" aria-describedby="idHelp" placeholder="Не выбрано">
                </td>
              </tr>
              <tr>
                <td align="right">
                  <label for="rrn">РРН</label>
                </td>
                <td>
                  <input type="text" formControlName="rrn" name="rrn" class="form-control" id="rrn" aria-describedby="idHelp" placeholder="Не выбрано">
                </td>
              </tr>
              <tr>
                <td align="right">
                  <label for="terminalId">ID терминала</label>
                </td>
                <td>
                  <input type="text" formControlName="terminalId" name="terminalId" class="form-control" id="terminalId" aria-describedby="idHelp" placeholder="Не выбрано">
                </td>
              </tr>
            </table>
          </div>
        </ng-template>
        <ng-template #footerTemplate>
          <input type="submit" class="e-control e-btn e-primary sendButton" id="btnApply" value="Применить">
          <input type="reset" class="e-control e-btn e-primary sendButton" id="btnCancel" value="Сбросить">
        </ng-template>
      </form>
    </ejs-dialog>
  </div>

  <table class="table" border="1" style="width:0;">
    <thead style="background-color:#00275e; border-color:#00275e; color:#fff; width:0;">
    <tr>
      <th>Транзакции</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td>
        <div class="horizontal-container" fxLayout="column" fxLayoutAlign="stretch" fxFlex="100%">
          <perfect-scrollbar class="scroll-container" fxFlex="auto">
            <table>
              <tr>
                <td>
                  <table border="0">
                    <tr>
                      <th width="6.0%">Номер транзакции</th>
                      <th width="5.0%">Тип операции</th>
                      <th width="9.0%">Маска карты</th>
                      <th width="5.8%">Дата</th>
                      <th width="4.0%">Время</th>
                      <th width="4.0%">Сумма</th>
                      <th width="4.0%">Доп сумма</th>
                      <th width="4.7%">Валюта</th>
                      <th width="6.0%">ID терминала</th>
                      <th width="4.6%">Девайс</th>
                      <th width="8.5%">Форм Фактор</th>
                      <th width="6.9%">Код авторизации</th>
                      <th width="4.0%">Код ошибки</th>
                      <th width="7.3%">РРН</th>
                      <th width="5.0%">Статус</th>
                      <th width="4.0%">Номер шаблона</th>
                      <th width="4.0%">Время ответа</th>
                      <th width="3.5%">Доп поле</th>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="vertical-container" fxLayout="column" fxLayoutAlign="stretch" fxFlex="100%">
                    <perfect-scrollbar class="scroll-container" fxFlex="auto">
                      <table class="table table-striped" border="0">
                        <tbody>
                        <ng-container *ngFor="let transaction of transactions">
                          <tr class="found">
                            <td width="6.0%">{{ transaction.transactionId }}</td>
                            <td width="5.0%">{{ transaction.operation }}</td>
                            <td width="9.0%">{{ transaction.panMasked }}</td>
                            <td width="5.8%">{{ transaction.transactionDate | date : 'dd.MM.yyyy'}}</td>
                            <td width="4.0%">{{ transaction.transactionDate | date : 'hh:mm'}}</td>
                            <td width="4.0%">{{ transaction.amount }}</td>
                            <td width="4.0%">{{ transaction.amountOther }}</td>
                            <td width="4.7%">{{ transaction.currency }}</td>
                            <td width="6.0%"><a routerLink="/">{{ transaction.terminalId }}</a></td>
                            <td width="4.6%">{{ transaction.deviceName }}</td>
                            <td width="8.5%">{{ transaction.formFactor }}</td>
                            <td width="6.9%">{{ transaction.approvalCode }}</td>
                            <td width="4.0%">{{ transaction.responseCode }}</td>
                            <td width="7.3%">{{ transaction.rrn }}</td>
                            <td width="5.0%"><font color="{{ transaction.statusCodeColor }}">{{ transaction.statusCode }}</font></td>
                            <td width="4.0%">{{ transaction.receiptNumber }}</td>
                            <td width="4.0%">{{ transaction.responseDate | date : 'hh:mm:ss'}}</td>
                            <td width="3.5%">{{ transaction.addField }}</td>
                          </tr>
                        </ng-container>
                        </tbody>
                      </table>
                    </perfect-scrollbar>
                  </div>
                </td>
              </tr>
            </table>
          </perfect-scrollbar>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<!-- /Container: List Items -->
