<div class="d-flex" id="wrapper" style="margin: 70px 0px 10px 10px;">

  <div class="bg-transenix border-right" id="sidebar-wrapper">
    <div class="list-group list-group-flush">
      <a class="nav-link" routerLink="/home" class="list-group-transenix list-group-transenix-action bg-transenix">Организация</a>
      <a class="nav-link" routerLink="/terminal" class="list-group-transenix list-group-transenix-action bg-transenix">Терминал</a>
      <a class="nav-link" routerLink="/terminal-groups" class="list-group-transenix list-group-transenix-action bg-transenix">Группы терминалов</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Лимиты</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Диапазоны приема PAN</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Языки приложений</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Шаблон чека</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Шаблон карты</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Ключи безопасности</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Расписание</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Коды активации</a>
      <a href="#" class="list-group-transenix list-group-transenix-action bg-transenix">Банки</a>
    </div>
  </div>


  <div class="container" style="margin-top: 0px; margin-left: 0px; width: 520px;">
    <table class="table table-transenix" border="0">
      <thead class="thead-transenix">
      <tr>
        <th colspan="6">
          Терминал
        </th>
      </tr>
      </thead>
      <thead>
        <tr>
          <th colspan="6">
            <table border="0">
              <tr>
                <th>Номер терминала</th>
                <th>Наименование торговца</th>
                <th>Организация</th>
                <th>Номер группы</th>
                <th>Банк</th>
                <th></th>
              </tr>
            </table>
          </th>
        </tr>
      </thead>
      <tbody class="tbody-transenix">
        <tr *ngFor="let terminal of terminals">
          <td width="100">{{ terminal.terminalId }}</td>
          <td width="170">{{ terminal.merchant.merchantName }}</td>
          <td width="140">{{ terminal.merchant.legal_name }}</td>
          <td width="110">{{ terminal.groupNumber }}</td>
          <td width="50">Aval</td>
          <td width="20" align="right">
            <button class="btn btn-transenix-sm" (click)="selectTerminal(terminal)">+</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>



  <div class="card text-center" style="position: absolute; height: 85%; margin-left: 853px; border: solid #00275e 1px;" *ngIf="selectedTerminal">
    <div class="card-header card-header">
      {{selectedTerminal.merchant.merchantName}}
      <button (click)="selectTerminal(terminal)" style="margin-left: 325px; color: #00275e;">X</button>
    </div>
    <div class="card-block" style="overflow-y:scroll;">
      <div class="col-sm-8 offset-sm-2" style="margin-left:0;">

        <div class="info-form">
          <form>
            <div class="form-group">

              <table width="540" cellpadding="2">
                <tr>
                  <td align="right" width="180">
                    <label for="id">Номер терминала</label>
                  </td>
                  <td width="330">
                    <input [(ngModel)]="selectedTerminal.terminalId" type="text" name="id" class="form-control" id="id" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="groupNumber">Номер группы</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.groupNumber" type="text" name="groupNumber" class="form-control" id="groupNumber" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                  <td width="20" align="right">
                    <button class="btn btn-transenix-sm" (click)="selectTerminalGroup()">+</button>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="opPurchase">Прием оплаты</label>
                  </td>
                  <td>
                    <select name="opPurchase" class="form-control" id="opPurchase" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let opPurchase of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="opPurchase" [selected]="opPurchase.key==selectedTerminal.opPurchase">
                        {{ opPurchase.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="opReversal">Отмена транзакции</label>
                  </td>
                  <td>
                    <select name="opReversal" class="form-control" id="opReversal" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let opReversal of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="opReversal" [selected]="opReversal.key==selectedTerminal.opReversal">
                        {{ opReversal.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="opRefund">Возврат транзакции</label>
                  </td>
                  <td>
                    <select name="opRefund" class="form-control" id="opRefund" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let opRefund of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="opRefund" [selected]="opRefund.key==selectedTerminal.opRefund">
                        {{ opRefund.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="manual">Ручной ввод карты</label>
                  </td>
                  <td>
                    <select name="manual" class="form-control" id="manual" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let manual of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="manual" [selected]="manual.key==selectedTerminal.manual">
                        {{ manual.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="pin">Ввод ПИН-кода</label>
                  </td>
                  <td>
                    <select name="pin" class="form-control" id="pin" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let pin of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="pin" [selected]="pin.key==selectedTerminal.pin">
                        {{ pin.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="geoPosition">Определение геопозиции</label>
                  </td>
                  <td>
                    <select name="geoPosition" class="form-control" id="geoPosition" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let geoPosition of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="geoPosition" [selected]="geoPosition.key==selectedTerminal.geoPosition">
                        {{ geoPosition.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="limitVisa">Лимит Visa</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.limitVisa" type="text" name="limitVisa" class="form-control" id="limitVisa" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="limitMc">Лимит MasterCard</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.limitMc" type="text" name="limitMc" class="form-control" id="limitMc" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="limitProstir">Лимит Prostir</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.limitProstir" type="text" name="limitProstir" class="form-control" id="limitProstir" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="visaAccepted">Прием карт Visa</label>
                  </td>
                  <td>
                    <select name="visaAccepted" class="form-control" id="visaAccepted" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let visaAccepted of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="visaAccepted" [selected]="visaAccepted.key==selectedTerminal.visaAccepted">
                        {{ visaAccepted.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="mcAccepted">Прием карт MasterCard</label>
                  </td>
                  <td>
                    <select name="mcAccepted" class="form-control" id="mcAccepted" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let mcAccepted of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="mcAccepted" [selected]="mcAccepted.key==selectedTerminal.mcAccepted">
                        {{ mcAccepted.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="prostirAccepted">Прием карт Prostir</label>
                  </td>
                  <td>
                    <select name="prostirAccepted" class="form-control" id="prostirAccepted" aria-describedby="idHelp" style="width: 100%; padding: 8px;">
                      <option [ngValue]="null" disabled>Choose your terminal's</option>
                      <option *ngFor="let prostirAccepted of [{'key':'Y', 'value':'Да'}, {'key':'N', 'value':'Нет'}]" [ngValue]="prostirAccepted" [selected]="prostirAccepted.key==selectedTerminal.prostirAccepted">
                        {{ prostirAccepted.value }}
                      </option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="merchantName">Шаблон чека</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.receiptTemplate" type="text" name="receiptTemplate" class="form-control" id="receiptTemplate" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="legal_name">Организация</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.merchant.legal_name" type="text" name="legal_name" class="form-control" id="legal_name" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="merchantName">Наименование торговца</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.merchant.merchantName" type="text" name="merchantName" class="form-control" id="merchantName" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="merchantName">ИНН</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.merchant.taxId" type="text" name="taxId" class="form-control" id="taxId" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                <tr>
                  <td align="right">
                    <label for="mcc">mcc</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.merchant.mcc" type="text" name="mcc" class="form-control" id="mcc" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
                <tr>
                  <td align="right">
                    <label for="acquirerId">acquirerId</label>
                  </td>
                  <td>
                    <input [(ngModel)]="selectedTerminal.merchant.acquirerId" type="text" name="acquirerId" class="form-control" id="acquirerId" aria-describedby="idHelp" placeholder="Enter your terminal's">
                  </td>
                </tr>
              </table>
            </div>
          </form>
          <div style="text-align: right; padding-right: 35px;">
            <button class="btn btn-transenix" (click)="updateTerminal()">Сохранить</button><br><br> <!-- Save -->
          </div>
        </div>
      </div>

    </div>
  </div>


  <div class="card text-left" style="position: absolute; width: 200px; margin-left: 1455px; border: solid #00275e 1px;" *ngIf="terminalGroups">
    <div class="card-header card-header">
      Группы
    </div>

    <div class="card-block" style="">
      <div class="col-sm-8 offset-sm-1">
        <ul class="list-group list-group-item-primary">
          <li *ngFor="let terminalGroup of terminalGroups"> {{ terminalGroup.groupName }} </li>
        </ul>
      </div>
    </div>
  </div>
</div>
